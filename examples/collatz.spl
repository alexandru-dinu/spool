func collatz_once 1 x
    @x dup
    2 % 0 == if
        @x 2 //
    else
        @x 3 * 1 +
    end
end

func collatz_seq 1 x
    @x dup peek
    while
        @x 1 >
    do
        call collatz_once
        dup $x
        peek
    end
    pop
end

5 call collatz_seq
